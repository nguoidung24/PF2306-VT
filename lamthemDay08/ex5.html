<!DOCTYPE html>
<html>

    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css' rel='stylesheet'>
        <title>Page Title</title>
    </head>

    <body class='bg-dark text-light'>
        <div class="container">
            <div class="row mt-1">
                <div class="col">
                    <div class="form-floating text-dark">
                        <input placeholder=" " id="ip" type="number" onchange="total()" value="2" class="form-control">
                        <label id="lbTitle">Nhập tổng số học sinh:</label>
                    </div>
                </div>
                <div class="col">
                    <button id="btnSm" class="h-100 btn btn-success">Tiếp tục</button>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <p id="result"></p>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript">
    let ip = document.getElementById('ip');
    let btnSm = document.getElementById('btnSm');
    let result = document.getElementById('result')

    function total() {
        return Number(ip.value);
    }

    function getDiem(n) {
        let setDiem, mess = false;
        do {
            if (mess) alert('Nhập sai vui lòng nhập lại !!');
            setDiem = Number(prompt(`Nhập điểm HS thứ ${n}`));
            mess = true;
        } while (isNaN(setDiem) || (setDiem < 0 || setDiem > 10));
        return setDiem;
    }

    function findMax(arr) {
        let max = 0;
        for (i of arr) {
            i = Number(i);
            if (i > max) max = i;
        }
        return max;
    }

    function findMax2(arr, max) {
        let max2 = 0;
        for (i of arr) {
            i = Number(i);
            if (i == max) continue;
            if (i > max2) max2 = i;
        }
        return max2;
    }

    function getDS(count) {
        let arr = [];
        for (let i = t = 0, d = 1; i < count; t += 2, d += 2, i++) {
            arr[t] = prompt(`Nhập tên HS thứ ${i+1}`);
            arr[d] = getDiem(i + 1);
        }
        return arr;
    }

    function kq(arr, max, max2) {
            diemCao = [],
            diemCao2 = [];
        for (let i = 0, dc = 0, dc2 = 0; i < arr.length; i++) {
            if (arr[i] == max) {
                diemCao[dc] = arr[i - 1];
                dc++;
            }
            if (arr[i] == max2) {
                diemCao2[dc2] = arr[i - 1];
                dc2++;
            }
        }

        return `Cao nhất: ${diemCao.join(', ')} \n Cao nhì: ${diemCao2.join(', ')}`;
    }
    btnSm.addEventListener('click', function() {
        let arr = getDS(total()),
            x = kq(arr, findMax(arr), findMax2(arr, findMax(arr)));
            result.innerText = x;

    });
    </script>

</html>